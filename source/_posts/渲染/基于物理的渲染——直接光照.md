---
title: 基于物理的渲染——直接光照
categories: 渲染
mathjax: true
---

$$
NDF_{GGX TR}(n, h, \alpha) = \frac{\alpha^2}{\pi((n \cdot h)^2 (\alpha^2 - 1) + 1)^2}
$$
$$
G_{SchlickGGX}(n, v, k) = \frac{n \cdot v}{(n \cdot v)(1 - k) + k }
$$
$$
k_{direct} = \frac{(\alpha + 1)^2}{8}
$$
$$
G(n, v, l, k) = G_{sub}(n, v, k) G_{sub}(n, l, k)
$$
$$
F_{Schlick}(n, v, F_0) = F_0 + (1 - F_0) ( 1 - (n \cdot v))^5
$$
``` glsl
diffuse = albedo * (1 - metalness)
specular = lerp(0.04, albedo, metalness)
```